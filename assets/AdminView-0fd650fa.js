import{T as x}from"./ToastItem-8a8496d2.js";import{_}from"./logo-5ee97639.js";import{_ as f}from"./logo-white-845e5af8.js";import{_ as b,r as o,o as y,c as g,a as t,j as e,k as a,d as v,h as n}from"./index-af3e2db4.js";const{VITE_APP_API:d}={VITE_APP_API:"https://vue3-course-api.hexschool.io/v2",VITE_APP_APIPATH:"susu3131",BASE_URL:"/SideProject-puzzle/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},T={data(){return{toast:{viewIsHidden:!0,toastText:"",toastType:!1}}},methods:{checkLogin(){this.axios.post(`${d}/api/user/check`).then(()=>{this.toast.viewIsHidden=!1,this.toast.toastText="登入成功",this.toast.toastType=!0,setTimeout(()=>{this.toast.toastType=!1},1200)}).catch(s=>{this.toast.toastText=s.response.data.message,this.toast.toastType=!0,setTimeout(()=>{this.toast.toastType=!1,this.$router.push({path:"/index"})},1200)})},signOut(){this.axios.post(`${d}/logout`).then(()=>{this.toast.toastText="登出成功",this.toast.toastType=!0,setTimeout(()=>{this.$router.push({path:"/index"}),this.toast.toastType=!1},1200)}).catch(s=>{this.toast.toastText="登出失敗，請重新嘗試",this.toast.toastType=!0,setTimeout(()=>{this.toast.toastType=!1},1200)})}},components:{ToastItem:x},mounted(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)puzzletoken\s*\=\s*([^;]*).*$)|^.*$/,"$1");this.axios.defaults.headers.common.Authorization=s,this.checkLogin()}},k={class:"flex flex-col h-screen bg-contain bg-puzzle"},w={class:"flex items-center justify-center p-5 sm:py-3 sm:pt-10 sm:px-10 lg:pb-0"},P={class:"hidden lg:block"},z=t("i",{class:"fa-solid fa-house"},null,-1),A=t("i",{class:"fa-solid fa-circle-exclamation"},null,-1),I=v('<div class="lg:flex-1"></div><div class="flex items-center justify-center px-2 grow sm:mb-0 lg:shrink-0"><img class="lg:w-[100px]" src="'+_+'" alt="logo" width="80"><h1 class="text-2xl font-extrabold lg:text-4xl text-primary"> 拼圖趣 Puzzle <span class="block px-3 text-xl text-center border sm:inline sm:text-2xl border-primary">後台中心</span></h1></div>',2),V={class:"flex justify-center py-2 ml-3 sm:ml-0 lg:mt-5 lg:flex-1"},j=t("div",{class:"items-center justify-center hidden mr-4 md:flex"},[t("i",{class:"fa-solid fa-circle-user"}),t("p",{class:"ml-2"},"管理員 admin")],-1),$=t("p",{class:"hidden mr-1 text-base md:block"},"登出",-1),E=t("i",{class:"ml-1 fa-solid fa-right-from-bracket"},null,-1),R=[$,E],S={class:"flex font-bold text-center sm:p-0"},L={class:"flex-1 bg-white bg-opacity-50 border-y-2 border-secondary"},O=t("div",{class:"py-4 text-center text-white bg-secondary md:py-6"},[t("img",{src:f,class:"mx-auto",alt:"logo"}),t("p",{class:"text-sm md:"},"此網站僅做 Side Project 作品使用，無營利用途 / Copyright © 2023 SuPuzzle. All rights reserved.")],-1);function B(s,r,C,N,h,i){const c=o("RouterLink"),l=o("router-link"),p=o("RouterView"),m=o("ToastItem");return y(),g("div",k,[t("div",w,[t("div",P,[e(c,{to:"/index"},{default:a(()=>[z]),_:1}),e(c,{to:"/g",class:"ml-3"},{default:a(()=>[A]),_:1})]),I,t("div",V,[j,t("button",{class:"flex items-center justify-center border-dark border-[1px] hover:border-white hover:bg-primary hover:text-white px-3 sm:px-6 py-1 h-1/4 rounded-md",onClick:r[0]||(r[0]=(...u)=>i.signOut&&i.signOut(...u))},R)])]),t("div",S,[e(l,{"exact-active-class":"bg-success text-white ",to:"/order",class:"px-6 py-2 border border-b-0 sm:py-3 sm:px-10 hover:bg-secondary hover:text-white hover:font-black border-secondary"},{default:a(()=>[n("訂單管理")]),_:1}),e(l,{"exact-active-class":"bg-success text-white ",to:"/PuzzleProduct",class:"px-6 py-2 border border-b-0 border-l-0 sm:py-3 sm:px-10 hover:bg-secondary hover:text-white hover:font-black border-secondary"},{default:a(()=>[n("商品管理")]),_:1})]),t("div",L,[e(p)]),O,e(m,{toast:h.toast},null,8,["toast"])])}const q=b(T,[["render",B]]);export{q as default};
