import{_ as P,o as d,c,a as e,w as v,v as T,b as p,d as b,r as x,e as A,F as $,f as I,t as _,g as V,h as z,i as w,j as i,k as u,p as E,l as N}from"./index-effea10f.js";import{T as S}from"./ToastItem-ade958e4.js";import{_ as M}from"./logo-5ee97639.js";import{_ as R}from"./logo-white-845e5af8.js";const{VITE_APP_API:D}={VITE_APP_API:"https://vue3-course-api.hexschool.io/v2",VITE_APP_APIPATH:"susu3131",BASE_URL:"/SideProject-puzzle/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},U={data(){return{modal:!0,user:{username:"",password:""}}},methods:{closeModal(){this.modal=!1},login(){this.$http.post(`${D}/admin/signin`,this.user).then(o=>{const{token:t,expired:n}=o.data;document.cookie=`puzzletoken=${t};expires=${new Date(n)}`,this.$router.push({path:"/PuzzleProduct"})}).catch(o=>alert(o.response.data.message))}}},H=e("input",{type:"checkbox",id:"login-modal",class:"modal-toggle"},null,-1),q={class:"modal"},L={class:"relative p-0 modal-box opacity-95"},B={class:"text-center bg-white rounded-lg shadow dark:bg-gray-700"},O=b('<div class="flex items-center justify-center px-6 py-6 text-white bg-primary lg:px-8"><i class="mr-4 text-3xl fa-solid fa-user"></i><h3 class="text-2xl font-bold text-center">會員登入</h3><div class="modal-action"><label for="login-modal" class="absolute inline-flex items-center px-2 ml-auto text-white bg-transparent rounded-lg top-6 right-5 hover:bg-white hover:text-primary"><i class="text-2xl fa-solid fa-xmark"></i></label></div></div>',1),F={class:"px-6 py-6 mt-3 space-y-8 lg:px-8 md:mt-6 md:w-7/6",action:"#"},W={class:"items-center justify-center md:flex"},G=e("label",{for:"text",class:"block mb-2 text-lg text-left text-gray-900 dark:text-white mr-7 md:mb-"},"會員帳號",-1),J={class:"items-center justify-center md:flex"},K=e("label",{for:"password",class:"block mb-2 text-lg text-left text-gray-900 dark:text-white mr-7 md:mb-0"},"會員密碼",-1);function Q(o,t,n,k,s,m){return d(),c("div",null,[H,e("div",q,[e("div",L,[e("div",B,[O,e("form",F,[e("div",W,[G,v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s.user.username=l),type:"email",name:"text",id:"text",class:"w-full md:w-3/4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-1 focus:ring-primary focus:border-primary focus-visible:outline-none block p-2.5",placeholder:"請輸入您的會員帳號 ",required:""},null,512),[[T,s.user.username]])]),e("div",J,[K,v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>s.user.password=l),type:"password",name:"password",id:"password",class:"w-full md:w-3/4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-1 focus:ring-primary focus:border-primary focus-visible:outline-none block p-2.5",placeholder:"請輸入您的會員密碼 ",required:""},null,512),[[T,s.user.password]])]),e("div",null,[e("button",{onClick:t[2]||(t[2]=p((...l)=>m.login&&m.login(...l),["prevent"])),type:"submit",class:"w-full px-20 ring-1 ring-primary hover:bg-primary hover:text-white font-medium rounded-lg text-sm py-2.5 text-center"},"登入")])])])])])])}const X=P(U,[["render",Q]]),{VITE_APP_API:g,VITE_APP_APIPATH:y}={VITE_APP_API:"https://vue3-course-api.hexschool.io/v2",VITE_APP_APIPATH:"susu3131",BASE_URL:"/SideProject-puzzle/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},Y={props:["getCart","carts"],data(){return{modal:!1,cartSubmit:!1,toast:{viewIsHidden:!1,toastText:"",toastType:!1}}},methods:{cleanCart(){this.$http.delete(`${g}/api/${y}/carts`).then(o=>{this.getCart(),this.modal=!1,this.toast.toastText="已清空購物車",this.toast.toastType=!0,setTimeout(()=>{this.toast.toastType=!1},1200)}).catch(o=>console.log(o))},delCart(o,t){this.$http.delete(`${g}/api/${y}/cart/${o}`).then(n=>{this.modal=!1,this.toast.toastText=`刪除${t}成功`,this.toast.toastType=!0,setTimeout(()=>{this.toast.toastType=!1},1200)}).catch(n=>console.log(n))},orderSubmit(){this.$http.post(`${g}/api/${y}/order`,{data:{user:{name:"test",email:"test@gmail.com",tel:"0912346768",address:"kaohsiung"},message:"測試結帳"}}).then(o=>{this.getCart(),this.modal=!1,this.toast.toastText="訂單結帳成功",this.toast.toastType=!0,setTimeout(()=>{this.toast.toastType=!1},1200)}).catch(o=>console.log(o))},login(){this.$router.push({path:"/order"})}},components:{ToastItem:S},mounted(){}},Z={class:"modal"},ee={class:"modal-box max-w-4xl relative p-0 opacity-95"},te={class:"bg-white rounded-lg shadow dark:bg-gray-700 text-center"},se=b('<div class="flex items-center justify-center px-6 py-6 text-white bg-primary lg:px-8"><i class="fa-solid fa-cart-shopping mr-4 text-3xl"></i><h3 class="text-2xl font-bold text-center">購物車</h3><div class="modal-action"><label for="cart-modal" class="absolute inline-flex items-center px-2 ml-auto text-white bg-transparent rounded-lg top-6 right-5 hover:bg-white hover:text-primary"><i class="text-2xl fa-solid fa-xmark"></i></label></div></div>',1),oe={class:"px-10"},le={key:0,class:"pt-3 text-right"},ae=["src"],re={class:"text-left"},ie=["onUpdate:modelValue"],ne={class:"bg-primary py-1 px-2 text-white"},de=["onClick"],ce={key:1,class:"mt-3 py-10"},me={key:0,class:"mt-5 px-10"},pe=b('<div class="flex justify-between items-center mb-4"><p class="font-semibold text-xl">輸入優惠卷</p><label for=""><input type="text" class="text-right border p-2" placeholder="請輸入您的優惠卷序號"></label></div><div class="flex justify-between items-center mb-4"><p class="font-semibold text-xl">運費</p><p>NT $60</p></div><div class="text-left pb-5 border-b-2 border-gray-300"><p class="mb-2 font-semibold text-xl">折扣</p><div class="flex justify-between items-center mb-2"><p class="border-l-4 pl-2 border-primary">全店滿千免運，買五幅折150元</p><p class="text-red-600">- NT $ 210</p></div><div class="flex justify-between items-center"><p class="border-l-4 pl-2 border-primary">優惠卷折扣85%</p><p class="text-red-600">- NT $ 609</p></div></div>',3),ue={class:"flex justify-between items-center py-3"},fe=e("p",{class:"font-bold text-2xl"},"本日訂單金額",-1),he={class:"text-3xl font-bold"};function xe(o,t,n,k,s,m){const l=x("ToastItem");return d(),c("div",null,[v(e("input",{type:"checkbox",id:"cart-modal",class:"modal-toggle","onUpdate:modelValue":t[0]||(t[0]=a=>s.modal=a)},null,512),[[A,s.modal]]),e("div",Z,[e("div",ee,[e("div",te,[se,e("div",oe,[n.carts.carts!=""?(d(),c("ul",le,[e("button",{class:"btn btn-outline btn-sm btn-info text-white px-12 mt-2",onClick:t[1]||(t[1]=p(a=>m.cleanCart(),["prevent"]))},"清空購物車"),(d(!0),c($,null,I(n.carts.carts,a=>(d(),c("li",{class:"flex items-center justify-between border-b py-4",key:a.id},[e("img",{src:a.product.imageUrl,class:"w-44 h-24 object-cover",alt:""},null,8,ae),e("p",re,_(a.product.title),1),v(e("select",{class:"select select-error max-w-[75px]","onUpdate:modelValue":f=>a.qty=f},[(d(),c($,null,I(11,f=>e("option",{key:f},_(f-1),1)),64))],8,ie),[[V,a.qty,void 0,{number:!0}]]),e("p",null,[z(" 售價: "),e("span",null," NT "+_(a.final_total),1)]),e("button",ne,[e("i",{class:"fa-solid fa-xmark",onClick:p(f=>m.delCart(a.id,a.product.title),["prevent"])},null,8,de)])]))),128))])):(d(),c("div",ce,"未有商品加入購物車"))]),s.cartSubmit?(d(),c("div",me,[pe,e("div",ue,[fe,e("p",he,"NT $ "+_(n.carts.final_total),1)])])):w("",!0),s.cartSubmit==!1&&n.carts.carts!=""?(d(),c("button",{key:1,onClick:t[2]||(t[2]=p(a=>s.cartSubmit=!0,["prevent"])),class:"my-5 px-20 ring-1 ring-primary hover:bg-primary hover:text-white font-medium rounded-lg text-sm py-2.5 text-center"},"前往結帳")):n.carts.carts!=""?(d(),c("button",{key:2,onClick:t[3]||(t[3]=p(a=>(m.orderSubmit(),s.cartSubmit=!1),["prevent"])),class:"my-5 px-20 ring-1 ring-primary hover:bg-primary hover:text-white font-medium rounded-lg text-sm py-2.5 text-center"},"送出訂單")):w("",!0)])])]),i(l,{toast:s.toast},null,8,["toast"])])}const ve=P(Y,[["render",xe]]),{VITE_APP_API:be,VITE_APP_APIPATH:_e}={VITE_APP_API:"https://vue3-course-api.hexschool.io/v2",VITE_APP_APIPATH:"susu3131",BASE_URL:"/SideProject-puzzle/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},ge={data(){return{showSearch:!1,showNav:!1,carts:[],toast:{viewIsHidden:!1,toastText:"",toastType:!1}}},methods:{closeSearch(){window.innerWidth<=1024?this.showSearch=!0:this.showSearch=!1},getCart(){this.$http.get(`${be}/api/${_e}/cart`).then(o=>{this.carts=o.data.data,console.log(this.carts)}).catch(o=>console.log(o.response.data.message))}},components:{ModalItem:X,CartItem:ve,ToastItem:S},mounted(){this.closeSearch()}},r=o=>(E("data-v-16176e60"),o=o(),N(),o),ye={class:"pt-3 bg-contain bg-puzzle md:pt-5"},we={class:"flex flex-col justify-between min-h-[97.9vh]"},Pe={class:"container pt-3"},ke={class:"items-center xl:grid xl:grid-cols-12"},Te=r(()=>e("div",{class:"hidden col-span-2 sm:block"},null,-1)),$e={class:"absolute -ml-4 collapse sm:hidden"},Ie=r(()=>e("button",{class:"text-5xl font-medium text-left collapse-title sm:hidden"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"inline-block w-5 h-5 stroke-current"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})])],-1)),Ae={class:"z-50 -ml-4 collapse-content"},Se={class:"w-screen bg-white border-t-2 border-b-2 menu border-primary to-base-100"},Ce=b('<li class="border-b" data-v-16176e60><div class="flex items-center justify-center text-white bg-primary active:bg-opacity-50" data-v-16176e60><label for="login-modal" class="flex items-center justify-center w-full" data-v-16176e60><i class="mr-2 fa-solid fa-circle-user" data-v-16176e60></i><p class="" data-v-16176e60>Login</p></label></div></li><li class="border-b" data-v-16176e60><div class="flex justify-center" data-v-16176e60><i class="p-2 fa-solid fa-magnifying-glass" data-v-16176e60></i><label for="search" class="w-full mr-2" data-v-16176e60><input type="search" name="search" id="" placeholder="搜尋喜愛的拼圖 ..." value="" class="w-full p-2 text-sm text-gray-400 border rounded-md focus:border-primary focus:border-2 focus-visible:outline-none" data-v-16176e60></label></div></li>',2),je={class:"border-b"},Ve=r(()=>e("div",{class:"flex items-center justify-center w-full pr-4"},[e("i",{class:"mr-5 fa-solid fa-house"}),e("p",null,"首頁")],-1)),ze={class:"border-b"},Ee=r(()=>e("div",{class:"flex items-center justify-center w-full pr-4"},[e("i",{class:"mr-5 fa-solid fa-puzzle-piece"}),e("p",null,"精選商品")],-1)),Ne={class:"border-b"},Me=r(()=>e("div",{class:"flex items-center justify-center w-full pr-4"},[e("i",{class:"mr-5 fa-solid fa-pen-to-square"}),e("p",null,"訂製拼圖")],-1)),Re=r(()=>e("div",{class:"flex items-center justify-center w-full pr-4"},[e("i",{class:"mr-5 fa-solid fa-pen-to-square"}),e("p",null,"我的收藏")],-1)),De={class:"lg:col-span-7"},Ue=r(()=>e("div",{class:"flex items-center justify-center sm:justify-center"},[e("img",{src:M,alt:"logo",class:"w-20 md:w-24"}),e("p",{class:"text-[28px] md:text-4xl font-extrabold text-primary"},"拼圖趣 Puzzle")],-1)),He={class:"justify-center hidden mt-1 text-lg font-bold text-center sm:flex"},qe=r(()=>e("div",{class:"items-center pl-8 pr-8 border-r border-black lg:flex hover:text-primary hover-button"},[e("i",{class:"fa-solid fa-house lg:mr-4"}),e("p",null,"首頁")],-1)),Le=r(()=>e("div",{class:"items-center pl-8 pr-8 border-r border-black lg:flex hover-button"},[e("i",{class:"fa-solid fa-puzzle-piece lg:mr-4"}),e("p",null,"精選商品")],-1)),Be=r(()=>e("div",{class:"items-center pl-8 pr-8 border-r border-black lg:flex hover-button"},[e("i",{class:"fa-solid fa-pen-to-square lg:mr-4"}),e("p",null,"訂製拼圖")],-1)),Oe=r(()=>e("div",{class:"items-center pl-8 pr-8 lg:flex hover-button"},[e("i",{class:"fa-solid fa-pen-to-square lg:mr-4"}),e("p",null,"我的收藏")],-1)),Fe={class:"items-center justify-center hidden py-6 text-lg sm:flex md:col-span-3 xl:justify-end lg:pb-0"},We={key:0,for:"search",class:"w-full mr-2 md:w-1/2"},Ge=r(()=>e("input",{type:"search",name:"search",id:"",value:"搜尋拼圖 ...",class:"w-full p-2 text-sm text-gray-400 border rounded-md focus:border-primary focus:border-2 focus-visible:outline-none"},null,-1)),Je=[Ge],Ke=r(()=>e("i",{class:"p-2 mr-3 fa-solid fa-cart-shopping hover:bg-primary hover:rounded-full hover:text-white"},null,-1)),Qe=[Ke],Xe=r(()=>e("label",{for:"login-modal",class:"flex items-center btn btn-outline btn-sm btn-error"},[e("i",{class:"mr-2 fa-solid fa-circle-user"}),e("p",null,"Login")],-1)),Ye={class:"relative"},Ze=r(()=>e("div",{class:"fixed z-50 bottom-40 right-5 sm:hidden"},[e("label",{for:"cart-modal",class:"mt-3"},[e("i",{class:"px-3 py-2 text-lg bg-white border rounded-full fa-solid fa-cart-shopping hover:text-primary"})])],-1)),et=b('<footer class="py-4 text-center text-white bg-primary md:py-8" data-v-16176e60><div class="container mx-auto" data-v-16176e60><div class="items-center justify-between mb-3 lg:flex sm:mb-1 lg:mb-0" data-v-16176e60><div class="flex items-center justify-between sm:mb-3" data-v-16176e60><img src="'+R+'" alt="logo-white" class="w-52 sm:-ml-3 md:ml-0" data-v-16176e60><div class="text-xl sm:text-2xl md:ml-8" data-v-16176e60><i class="mr-3 fa-brands fa-facebook md:mr-4" data-v-16176e60></i><i class="mr-3 fa-brands fa-facebook-messenger md:mr-4" data-v-16176e60></i><i class="mr-3 fa-solid fa-envelope md:mr-4" data-v-16176e60></i></div></div><hr class="mb-3 opacity-50 lg:hidden" data-v-16176e60><div class="items-center hidden sm:flex" data-v-16176e60><p class="text-lg font-bold" data-v-16176e60>Contact</p><div class="ml-8 text-left" data-v-16176e60><p data-v-16176e60>電話 : 02-22120352</p><p data-v-16176e60>地址 : 新北市新店區北新路二段304-1號</p></div></div></div><hr class="hidden mb-3 opacity-50 lg:block" data-v-16176e60><p class="text-xs font-normal text-left md:text-sm lg:text-base" data-v-16176e60>此網站僅做 Side Project 作品使用，無營利用途 / Copyright © 2023 SuPuzzle. All rights reserved.</p></div></footer>',1);function tt(o,t,n,k,s,m){const l=x("RouterLink"),a=x("RouterView"),f=x("ModalItem"),C=x("CartItem"),j=x("ToastItem");return d(),c("div",ye,[e("div",we,[e("header",Pe,[e("div",ke,[Te,e("div",$e,[v(e("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=h=>s.showNav=h)},null,512),[[A,s.showNav]]),Ie,e("div",Ae,[e("ul",Se,[Ce,e("li",je,[i(l,{to:"/index",onClick:t[1]||(t[1]=p(h=>s.showNav=!1,["prevent"]))},{default:u(()=>[Ve]),_:1})]),e("li",ze,[i(l,{to:"/allpuzzle",onClick:t[2]||(t[2]=p(h=>s.showNav=!1,["prevent"]))},{default:u(()=>[Ee]),_:1})]),e("li",Ne,[i(l,{to:"/customize",onClick:t[3]||(t[3]=p(h=>s.showNav=!1,["prevent"]))},{default:u(()=>[Me]),_:1})]),e("li",null,[i(l,{to:"/collection",onClick:t[4]||(t[4]=p(h=>s.showNav=!1,["prevent"]))},{default:u(()=>[Re]),_:1})])])])]),e("div",De,[Ue,e("nav",He,[i(l,{to:"/index","exact-active-class":" hover-button-active "},{default:u(()=>[qe]),_:1}),i(l,{to:"/allpuzzle","exact-active-class":" hover-button-active "},{default:u(()=>[Le]),_:1}),i(l,{to:"/customize","exact-active-class":" hover-button-active "},{default:u(()=>[Be]),_:1}),i(l,{to:"/collection","exact-active-class":" hover-button-active "},{default:u(()=>[Oe]),_:1})])]),e("div",Fe,[e("i",{class:"p-2 mr-3 fa-solid fa-magnifying-glass hover:bg-primary hover:rounded-full hover:text-white",onClick:t[5]||(t[5]=h=>s.showSearch=!0)}),s.showSearch?(d(),c("label",We,Je)):w("",!0),e("label",{for:"cart-modal",onClick:t[6]||(t[6]=h=>m.getCart())},Qe),Xe])])]),e("div",Ye,[Ze,i(a)]),et]),i(f),i(C,{getCart:m.getCart,carts:s.carts},null,8,["getCart","carts"]),i(j,{toast:s.toast},null,8,["toast"])])}const rt=P(ge,[["render",tt],["__scopeId","data-v-16176e60"]]);export{rt as default};
