import{_ as h,m as g,r as P,o as a,c,a as s,F as x,f as T,h as f,t as l,j as v}from"./index-2c6d998d.js";import{T as k}from"./ToastItem-87f9e446.js";import{_ as A}from"./load-2b50a5d8.js";const{VITE_APP_API:_,VITE_APP_APIPATH:p}={VITE_APP_API:"https://vue3-course-api.hexschool.io/v2",VITE_APP_APIPATH:"susu3131",BASE_URL:"/SideProject-puzzle/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},I={data(){return{collection:[],puzzleProducts:[],tempPuzzleProduct:{},page:{},toast:{viewIsHidden:!1,toastText:"",toastType:!1}}},methods:{addCart(o,e,r=1){this.$http.post(`${_}/api/${p}/cart`,{data:{product_id:o,qty:r}}).then(n=>{this.toast.toastText=`加入${e}成功`,this.toast.toastType=!0,setTimeout(()=>{this.toast.toastType=!1},1200)}).catch(n=>console.log(n.response.data.message))},getPuzzleProduct(o=1){this.$http.get(`${_}/api/${p}/products/all`).then(e=>{this.puzzleProducts=e.data.products,this.page=e.data.pagination}).catch(e=>console.log(e.response.data.message))},addCollection(o){this.collection.push(o),console.log(this.collection),g.set("collection",this.collection)}},components:{ToastItem:k},mounted(){this.getPuzzleProduct()}},y={class:"py-10"},C={key:0},E=s("img",{src:A,class:"mx-auto mt-20",alt:"",width:"170"},null,-1),V=[E],$={key:1},b={class:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 sm:gap-6 mt-5 mb-10"},S={class:"relative"},w=["src"],z=["onClick"],B={class:"mt-2 md:text-lg xl:text-xl"},D={class:"md:text-xl text-pink font-medium"},N=["onClick"];function j(o,e,r,n,i,d){const u=P("ToastItem");return a(),c("div",y,[i.puzzleProducts==""?(a(),c("div",C,V)):(a(),c("div",$,[s("ul",b,[(a(!0),c(x,null,T(i.puzzleProducts,t=>(a(),c("li",{key:t.id,class:"text-center mb-5"},[s("div",S,[s("img",{src:t.imageUrl,alt:"",class:"rounded-md object-cover mx-auto w-[300px] h-[200px]"},null,8,w),s("i",{class:"fa-regular text-[28px] fa-bookmark absolute right-5 top-5",onClick:m=>d.addCollection(t.id)},null,8,z)]),s("h3",B,l(t.title),1),s("p",D,"售價 : NT $ "+l(t.price)+" / "+l(t.unit),1),s("button",{class:"px-9 py-1 mt-2 text-white rounded-md bg-primary duration-300 hover:scale-110",onClick:m=>d.addCart(t.id,t.title)},"加入購物車",8,N)]))),128))])])),f(" "+l(i.collection)+" ",1),v(u,{toast:i.toast},null,8,["toast"])])}const L=h(I,[["render",j]]);export{L as default};
